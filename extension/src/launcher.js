!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([,function(e,t,r){"use strict";var n;function o(e){let t;e.preventDefault();{let r;if("form"===e.target.nodeName.toLowerCase())t=(r=e.target.querySelector(".url")).value,e.target.querySelector(".url").value="";else{if("input"!==e.target.nodeName.toLowerCase())return void console.error(`unknown event source ${e.target.nodeName} for add_site(). aborting.`);t=(r=e.target.parentNode.querySelector(".url")).value}r.value=""}""!==t?(browser.runtime.sendMessage({kind:"storage.sites.add",site:{url:t}}).then(u),a(t)):alert("Site URL is empty.")}browser.runtime.sendMessage({kind:"storage.sites.get"}).then(e=>{let t=document.querySelector("#sites ul");for(;t.firstChild;)t.removeChild(t.firstChild);if(void 0!==e)for(let t of e)a(t.url)}),document.addEventListener("click",e=>{e.target.classList.contains("open_site")?function(e){e.preventDefault(),void 0!==browser.sidebarAction.open&&browser.sidebarAction.open();browser.sidebarAction.getPanel({}).then(t=>{browser.sidebarAction.setPanel({panel:e.target.href})})}(e):e.target.classList.contains("add_site")?o(e):e.target.classList.contains("remove_site")&&((e=e).preventDefault(),browser.runtime.sendMessage({kind:"storage.sites.remove",site:{url:e.target.parentNode.querySelector(".open_site").getAttribute("href")}}).then(u),e.target.parentNode.parentNode.removeChild(e.target.parentNode))}),document.addEventListener("submit",e=>{e.target.classList.contains("add_site")&&o(e)});const s=document.createElement("input");s.setAttribute("type","button"),s.setAttribute("value","X"),s.setAttribute("class","remove_site");const i=document.createElement("a");function a(e){let t=document.createElement("li"),r=i.cloneNode();r.textContent=e,r.setAttribute("href",e);let n=s.cloneNode();t.appendChild(r),t.appendChild(n),document.querySelector("#sites ul").appendChild(t)}function u(e){"ok"!==e&&console.error("background script did not send OK")}i.setAttribute("class","open_site")}]);